<div dir="rtl" class="container">
  <div class="form-style-2-heading">
    <h2 style="text-align: center" [hidden]="!(!this.updateStatus && !this.undifineCheck)"> הגדרת מוצר </h2>
    <h2 style="text-align: center" [hidden]="!this.updateStatus && !this.undifineCheck"> עדכון מוצר - {{(item |
      async)?.ProductName}} </h2>
  </div>

  <div>
    <div>
      <form>
        <label>
          <div class="input-group">

            <h5><span class="required">*</span> שם המוצר</h5>
            <input mdInput class="input-field" value="{{(item | async)?.ProductName}}" type="text" #ProductName
                   id="ProductName" name="ProductName" placeholder="שם המוצר"
                   (blur)="onKeyName(ProductName.value)"
                   (keyup)="checkWithAnotherSuppliers(ProductName.value);onKeyName(ProductName.value)" required>
          </div>
        </label>
        <mat-option *ngFor="let product of products" [value]="product.ProductName">
          <p (click)="changename(product.ProductName)">{{ product.ProductName }}</p> |
        </mat-option>

        <div class="option">

          <h5 class=" select"> יח' מידה&nbsp;</h5>
          <mat-select placeholder="יח' מידה" [(ngModel)]="UnitOfMeasure" name="UnitOfMeasure">
            <mat-option *ngFor="let unit of unitOFMeasurementOption" [value]="unit.value">
              {{ unit.viewValue }}
            </mat-option>
          </mat-select>
          <i class="fa fa-plus fa-2x" (click)="funcopenselectedUnitOfMeasure()"></i>
          <input #InputUnitOfMeasure [hidden]="openselectedUnitOfMeasure"
                 (blur)="changeUnitOfMeasure(InputUnitOfMeasure.value)" (mouseout)="funcopenselectedUnitOfMeasure()">

        </div>
        <label>
          <h5> מחיר ל{{UnitOfMeasure}}</h5>

          <div class="input-group presuffix">
            <input mdInput type="number" pInputText value="{{(item | async)?.price}}" placeholder="מחיר" #pricePerUnit
                   (keyup)="onKeyPricePerUnit(pricePerUnit.value)" required name="ProductName">
            <span class="input-group-addon suffix">₪/{{UnitOfMeasure}}</span>
          </div>
        </label>
        <label>
        <h5>הוסף פיקדון ל{{UnitOfMeasure}} </h5>
        <div class="input-group presuffix selectInForm">
          <mat-slide-toggle
            [color]="color"
            (change)="changeDespoitUnit()">
          </mat-slide-toggle>
        </div>
        </label>
        <label [hidden]="openUnitDespoit">
          <div class="input-group presuffix inputDespoit">
            <input mdInput type="number" pInputText value="{{(item | async)?.unitDesposit}}" placeholder="מחיר"
                   #UnitDespoit
                   (keyup)="onKeyDespoitUnit(UnitDespoit.value)" required>
            <span class="input-group-addon suffix">₪</span>

          </div>
        </label>

      </form>
      <br>
      <i style="margin-right: 2em" class="fa fa-plus-circle fa-2x "
         (click)="openSecondContactForm = !openSecondContactForm"><span class="comment"> הוסף מארז משני  </span></i>
      <br>
      <br>

      <form>
        <div [hidden]="openSecondContactForm">

          <div class="option">
            <h5 class=" select"> מארז משני &nbsp;</h5>
            <mat-select placeholder="יח' מידה" [(ngModel)]="secondTypeOfFillUp" name="UnitOfMeasure">
              <mat-option *ngFor="let unit of secondFillUp" [value]="unit.value">
                {{ unit.viewValue }}
              </mat-option>
            </mat-select>
            <i class="fa fa-plus fa-2x" (click)="funcopenselectedsecondTypeOfFillUp()"></i>
            <input #InputsecondTypeOfFillUp [hidden]="openselectedsecondTypeOfFillUp"
                   (blur)="changesecondTypeOfFillUp(InputsecondTypeOfFillUp.value)"
                   (mouseout)="funcopenselectedsecondTypeOfFillUp()">
          </div>

          <label>
            <h5> כמות ב{{secondTypeOfFillUp}} &nbsp; </h5>
            <div class="input-group suffix">
              <input mdInput type="number" value="{{(item | async)?.sizeUnitPackaging}}" #sizeUnitPackaging
                     (keyup)="onKeySecondSizeUnitPackaging(sizeUnitPackaging.value)" name="ProductName">
              <span class="input-group-addon ">{{UnitOfMeasure}}</span>
            </div>
          </label>
          <label>
            <h5> מחיר ל{{secondTypeOfFillUp}}</h5>

            <div class="input-group presuffix">
              <input mdInput type="number" pInputText value="{{sizeUnitPackaging *  (item | async)?.price}}"
                     placeholder="מחיר"
              >
              <span class="input-group-addon suffix">₪</span>
            </div>
          </label>
          <label>
            <h5>פקדון ל{{secondTypeOfFillUp}}</h5>

            <div class="input-group presuffix">
              <input mdInput type="number" pInputText value="{{(item | async)?.secondeDesposit}}" placeholder="מחיר"
                     #secondDespoit
                     (keyup)="onKeyDespoitsecondTypeOfFillUp(secondDespoit.value)" required>
              <span class="input-group-addon suffix">₪</span>

            </div>
          </label>
        </div>
      </form>
      <form>
        <div class="option">
          <h5 class=" select"> צורת אריזה&nbsp; </h5>
          <mat-select placeholder="צורת אריזה" [(ngModel)]="TypeOfFillUp" name="TypeOfFillUp">
            <mat-option *ngFor="let option of options" [value]="option.value">
              {{ option.viewValue }}
            </mat-option>
          </mat-select>
          <i class="fa fa-plus fa-2x" (click)="funcopenselectedTypeOfFillUp()"></i>
          <input #InputTypeOfFillUp [hidden]="openselectedTypeOfFillUp"
                 (blur)="changeTypeOfFillUp(InputTypeOfFillUp.value)" (mouseout)="funcopenselectedTypeOfFillUp()">
        </div>
        <label>
          <h5> כמות ב {{TypeOfFillUp}}&nbsp; </h5>

          <div class="input-group suffix">
            <input mdInput type="number" value="{{(item | async)?.UnitInPackaging}}" #UnitInPackaging required
                   (keyup)="onKeyUnitInPackaging(UnitInPackaging.value)" name="UnitInPackaging">
            <span class="input-group-addon">{{UnitOfMeasure}}</span>
          </div>
        </label>
        <label>
          <h5> מחיר ל{{TypeOfFillUp}}</h5>

          <div class="input-group presuffix">
            <input mdInput type="number" pInputText value="{{sumPrice}}" placeholder="מחיר" #price
                   (keyup)="onKeyPriceSum(price.value)" required disabled>
            <span class="input-group-addon suffix">₪</span>

          </div>
        </label>
        <label>
        <h5>הוסף פיקדון ל{{TypeOfFillUp}} </h5>
        <div class="input-group presuffix selectInForm" >
          <mat-slide-toggle
            [color]="color"
            (change)="changeDespoitTypeOfFillUp()">
          </mat-slide-toggle>
        </div>
        </label>
        <label>

          <div class="input-group presuffix inputDespoit" [hidden]="openTypeOfFillUpDespoit">
            <input mdInput type="number" pInputText value="{{(item | async)?.fillDesposot}}" placeholder="מחיר"
                   #TypeOfFillUpDespoit
                   (keyup)="onKeyDespoitFillUp(TypeOfFillUpDespoit.value)" required>
            <span class="input-group-addon suffix">₪</span>

          </div>
        </label>

      </form>
      <!--<form>-->

      <!--<label>-->
      <!--<h5> הנחה </h5>-->

      <!--<div class="input-group presuffix">-->
      <!--<input mdInput type="number" pInputText value="{{(item | async)?.discount}}" placeholder="הנחה" #discount-->
      <!--(blur)="onKeyDiscount(discount.value)" name="ProductName">-->
      <!--<span class="input-group-addon suffix">% </span>-->
      <!--</div>-->
      <!--</label>-->
      <!--<div class="option">-->
      <!--<h5 class=" select"> מבצע&nbsp; </h5>-->
      <!--<mat-select placeholder="מבצע" [(ngModel)]="saleProduct" name="saleProduct">-->
      <!--<mat-option *ngFor="let option of sales" [value]="option.value">-->
      <!--{{ option.viewValue }}-->
      <!--</mat-option>-->
      <!--</mat-select>-->
      <!--</div>-->
      <!--</form>-->
      <!--
          <section class="example-section" dir="rtl">
            <md-checkbox class="example-margin" [(ngModel)]="privateProduct">מוצר פרטי</md-checkbox>
          </section>
      -->
      <!--<section>-->
      <!--<mat-slide-toggle [(ngModel)]="depositCchecked"-->

      <!--[color]="color"-->
      <!--[checked]="depositCchecked"-->
      <!--[disabled]="disabled">-->
      <!--<span>כולל החזרת פיקדון?</span>-->
      <!--</mat-slide-toggle>-->
      <!--</section>-->

      <!--<label [hidden]="!depositCchecked">-->
      <!--<h5> פיקדון </h5>-->

      <!--<div class="input-group presuffix">-->
      <!--<input mdInput type="number" pInputText value="{{(item | async)?.depositPrice}}" placeholder="עלות הפיקדון"-->
      <!--#depositPrice (blur)="onKeyDepositPrice(depositPrice.value)" name="depositPrice">-->
      <!--<span class="input-group-addon suffix">אג'</span>-->
      <!--</div>-->
      <!--</label>-->
      <br>
      <label>
        <mat-slide-toggle
          [color]="color"
          [(ngModel)]="showhidepregnant"> קבע מצבה להשלמה ביום ההזמנה <span
          class="required">*</span></mat-slide-toggle>
      </label>
      <form>

        <div *ngIf="showhidepregnant">
          <label>
            <span style="color: red;font-size: x-small"> נא מלא את כל השדות </span>
            <div style="display: flex;" *ngFor="let day of dateCurrectSupplirer | sortDays; let i = index">
              <h5 style="font-size: x-small;text-align: right;width: 9em"> הזמנה ביום <strong style="font-size: medium">{{day.itemName}}</strong>
                <br>
                קבלה ביום <strong style="font-size: medium"> {{day.itemNameOrder}}</strong></h5>
              <div class="input-group presuffix" style="max-width: 27em">
                <input style="border-radius: 10px; " placeholder=" השלם ל" id="invatory" type="number"
                       #input
                       value="{{days[day.id]}}" (keyup)="modifyDays(day.id , day.orderIn, input.value)"
                       name="MinInInventory" required>
                <span class="input-group-addon suffix"> {{TypeOfFillUp}}  </span>
              </div>
            </div>
          </label>

        </div>
      </form>
    </div>
    <a class="btn btn-success" [hidden]="!(!this.updateStatus && !this.undifineCheck)"
       (click)="BuildProductForAllDB(  UnitInPackaging.value , sizeUnitPackaging.value , ProductName.value  )">
      <i class="fa fa-check-square"></i> הוסף </a>
    <a class="btn btn-success" [hidden]="!this.updateStatus && !this.undifineCheck"
       (click)="BuildProductForAllDB( UnitInPackaging.value , sizeUnitPackaging.value , ProductName.value  )">
      <i class="fa fa-check-square"></i> עדכן </a>
    <a class="btn btn-danger " (click)="deleteItem()" style="align-items:flex-start;float: left; "
       [hidden]="!this.updateStatus && !this.undifineCheck">
      <i class="fa fa-trash-o fa-lg"></i> מחק </a>
  </div>
</div>
